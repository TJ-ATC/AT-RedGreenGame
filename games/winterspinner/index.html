<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Winter Spinner</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <h1>
        ATC Winter Spinner
    </h1>
    <div id="spinners">
        <div class="spinner">
            <!-- SUBJECTS -->
            <div class="container container1">
                <div class="one"> __ </div>
                <div class="two"> __ </div>
                <div class="three"> __ </div>
                <div class="four"> __ </div>
                <div class="five"> __ </div>
                <div class="six"> __ </div>
                <div class="seven"> __ </div>
                <div class="eight"> __ </div>
            </div>
        </div>
        <div class="spinner">
            <!-- VERBS -->
            <div class="container container2">
                <div class="one"> __ </div>
                <div class="two"> __ </div>
                <div class="three"> __ </div>
                <div class="four"> __ </div>
                <div class="five"> __ </div>
                <div class="six"> __ </div>
                <div class="seven"> __ </div>
                <div class="eight"> __ </div>
            </div>
        </div>
        <div class="spinner">
            <!-- OBJECTS -->
            <div class="container container3">
                <div class="one"> __ </div>
                <div class="two"> __ </div>
                <div class="three"> __ </div>
                <div class="four"> __ </div>
                <div class="five"> __ </div>
                <div class="six"> __ </div>
                <div class="seven"> __ </div>
                <div class="eight"> __ </div>
            </div>
        </div>
    </div>

    <div class="sentences">
        <img id="img1" src="images/noun1.png">
        <img id="img2" src="images/verb1.png">
        <img id="img3" src="images/do1.png">
    </div>

    <div class="credits">
        made by ATC; specifically 
    </div>

    <script>
        let container1 = document.querySelector(".container1");
        let container2 = document.querySelector(".container2");
        let container3 = document.querySelector(".container3");

        // spinners = document.querySelectorAll(".spinner")
        // for(let i = 0; i < spinners.length; i++) {
        //     spinners[i].style.transform = 'scale('+ window.innerWidth/(window.innerWidth*1.2) +')'
        // }

        document.getElementById("spinners").style.transform = 'scale(' + 1 / ((3000 - window.innerWidth) / 1200) + ')'
        console.log(window.innerWidth)

        document.body.onkeyup = function (e) {
            if (e.key == " " ||
                e.code == "Space" ||
                e.keyCode == 32
            ) {
                let randoms = generateRandoms()
                console.log(randoms)
                container1.style.transform = "rotate(" + randoms[0] * 100 + "deg)";
                container2.style.transform = "rotate(" + randoms[1] * 100 + "deg)";
                container3.style.transform = "rotate(" + randoms[2] * 100 + "deg)";

                setTimeout(function () {
                    document.getElementById("img1").src = "images/noun" + randoms[0] + ".png"
                    document.getElementById("img2").src = "images/verb" + randoms[1] + ".png"
                    document.getElementById("img3").src = "images/do" + randoms[2] + ".png"
                }, 1000);


            }
        }

        var oldRandoms = [1, 1, 1]

        window.addEventListener('click', (event) => {
            let newRandoms = generateRandoms()
            console.log(newRandoms)

            for(let i = 0; i < 3; i++){
                if(newRandoms[i] == oldRandoms[i]){
                    newRandoms[i] = (newRandoms[i] + 3)%8
                }
            }

            container1.style.transform = "rotate(" + newRandoms[0] * 100 + "deg)";
            container2.style.transform = "rotate(" + newRandoms[1] * 100 + "deg)";
            container3.style.transform = "rotate(" + newRandoms[2] * 100 + "deg)";

            oldRandoms = newRandoms

            setTimeout(function () {
                document.getElementById("img1").src = "images/noun" + newRandoms[0] + ".png"
                document.getElementById("img2").src = "images/verb" + newRandoms[1] + ".png"
                document.getElementById("img3").src = "images/do" + newRandoms[2] + ".png"
            }, 1000);

        })

        function generateRandoms() {
            return [Math.ceil(Math.random() * 8), Math.ceil(Math.random() * 8), Math.ceil(Math.random() * 8)]
        }
    </script>
</body>

</html>