<!DOCTYPE html>
<head>
    <title>ATC Books</title>
    <link href="main.css" type="text/css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
</head>
<body>
    <div class="nav-wrapper">
        <div class="left-nav">
            <div class="nav-link-wrapper">
                <a href="index.html">Home</a>
            </div>
              <div class="nav-link-wrapper ">
                  <a href="games.html">Games</a>
              </div>
              <div class="nav-link-wrapper active-nav-link">
                  <a href="books.html">Books</a>
              </div>
          </div>
    
          <div class="right-nav">
              <div class="brand">
                  <div>ATC Game Center</div>
              </div>
    
          </div>
        </div> 
    <div class="books-container">
        <h2>ATC Books</h2>    
    </div>

    <script>
        docsURL = "https://docs.google.com/document/d/";
        fileURL = "https://coding-girl314.github.io/AT-RedGreenGame/google/book_ID.txt";
        
        async function* makeTextFileLineIterator(fileURL) {
            const utf8Decoder = new TextDecoder('utf-8');
            const response = await fetch(fileURL, {mode: 'no-cors'});
            const reader = response.body.getReader();
            let { value: chunk, done: readerDone } = await reader.read();
            chunk = chunk ? utf8Decoder.decode(chunk) : '';

            const re = /\n|\r|\r\n/gm;
            let startIndex = 0;
            let result;

            for (;;) {
                let result = re.exec(chunk);
                if (!result) {
                if (readerDone) {
                    break;
                }
                let remainder = chunk.substr(startIndex);
                ({ value: chunk, done: readerDone } = await reader.read());
                chunk = remainder + (chunk ? utf8Decoder.decode(chunk) : '');
                startIndex = re.lastIndex = 0;
                continue;
                }
                yield chunk.substring(startIndex, result.index);
                startIndex = re.lastIndex;
            }
            if (startIndex < chunk.length) {
                // last line didn't end in a newline char
                yield chunk.substr(startIndex);
            }
            //mydiv = document.getElementById('booksList');
            //a1 = document.createElement('a', );
            //d1 = document.createElement('div', );
            //d2 = document.createElement('div', );
            //d1.appendChild(d1);
            //a1.appendChild(d1);
            //mydiv.appendChild(a1);
        }

        async function run() {
            for await (let line of makeTextFileLineIterator(fileURL)) {
                processLine(line);
            }
        }

        run();
             
    </script> 

<div id='booksList'>
    
jhjhj
</div>
</body>